"use strict";
var URLHelper_1 = require('../helpers/URLHelper');
var PathHelper_1 = require('../helpers/PathHelper');
var SiteFile_1 = require('../files/SiteFile');
var TemplateFile_1 = require('../files/TemplateFile');
var AssetManager_1 = require('./AssetManager');
var DEFAULT_PAGE_EXTENSION = '.html';
var DEFAULT_INDEX_PAGE = 'index' + DEFAULT_PAGE_EXTENSION;
var ProjectBuilder = (function () {
    function ProjectBuilder(projectSettings) {
        this.settings = projectSettings;
        this.config = this.settings.config.get();
    }
    ProjectBuilder.prototype.build = function () {
        var assetManager = new AssetManager_1.AssetManager(this.settings);
        assetManager.setupListeners();
        assetManager.copyAssets();
        this.preparePages(this.config.pages, []);
    };
    ProjectBuilder.prototype.preparePages = function (pages, currentPath) {
        var length = pages.length;
        for (var i = 0; i < length; i++) {
            this.preparePage(pages[i], currentPath);
        }
    };
    ProjectBuilder.prototype.preparePage = function (page, currentPath) {
        var relativeUriArray = ProjectBuilder.extractRelativeUriArray(page);
        if (page.template) {
            var relativePagePathArray = this.determinePagePathArray(relativeUriArray);
            var pageUri = this.determineUri(relativePagePathArray);
            var fullPagePath = PathHelper_1.PathHelper.join(this.settings.buildPath, currentPath, relativePagePathArray);
            var templatePath = PathHelper_1.PathHelper.join(this.settings.templatePath, page.template);
            var templateFile = new TemplateFile_1.TemplateFile(templatePath);
            templateFile.reload();
            var siteFile = new SiteFile_1.SiteFile(fullPagePath, templateFile);
            siteFile.rebuild();
            siteFile.write();
        }
    };
    ProjectBuilder.extractRelativeUriArray = function (page) {
        var relativePathArray;
        if (page.uri !== undefined) {
            relativePathArray = URLHelper_1.URLHelper.split(page.uri);
        }
        else if (page.content !== undefined) {
            relativePathArray = URLHelper_1.URLHelper.split(PathHelper_1.PathHelper.stripExtension(page.content));
        }
        else if (page.template !== undefined) {
            relativePathArray = URLHelper_1.URLHelper.split(PathHelper_1.PathHelper.stripExtension(page.template));
        }
        else {
            throw new Error('Could not determine page path!');
        }
        return relativePathArray;
    };
    ProjectBuilder.prototype.determinePagePathArray = function (uriArray) {
        var isIndex = uriArray.length === 0 || (uriArray.length === 1 && uriArray[0] === 'index');
        if (isIndex) {
            return [DEFAULT_INDEX_PAGE];
        }
        var lastIndex = uriArray.length - 1;
        if (this.config.explicit_html_extensions) {
            uriArray[lastIndex] = uriArray[lastIndex] + DEFAULT_PAGE_EXTENSION;
        }
        else {
            uriArray.push(DEFAULT_INDEX_PAGE);
        }
        return uriArray;
    };
    ProjectBuilder.prototype.determineUri = function (pagePathArray) {
        var array = pagePathArray.slice(0);
        var lastIndex = array.length - 1;
        if (array[lastIndex] === DEFAULT_INDEX_PAGE
            && !this.config.explicit_html_extensions) {
            array.pop();
        }
        return URLHelper_1.URLHelper.join(array);
    };
    return ProjectBuilder;
}());
exports.ProjectBuilder = ProjectBuilder;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jb3JlL1Byb2plY3RCdWlsZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFRQSwwQkFBd0Isc0JBQXNCLENBQUMsQ0FBQTtBQUMvQywyQkFBeUIsdUJBQXVCLENBQUMsQ0FBQTtBQUNqRCx5QkFBdUIsbUJBQW1CLENBQUMsQ0FBQTtBQUMzQyw2QkFBMkIsdUJBQXVCLENBQUMsQ0FBQTtBQUNuRCw2QkFBMkIsZ0JBQWdCLENBQUMsQ0FBQTtBQUU1QyxJQUFNLHNCQUFzQixHQUFHLE9BQU8sQ0FBQztBQUN2QyxJQUFNLGtCQUFrQixHQUFHLE9BQU8sR0FBRyxzQkFBc0IsQ0FBQztBQUU1RDtJQUtJLHdCQUFZLGVBQWdDO1FBQ3hDLElBQUksQ0FBQyxRQUFRLEdBQUcsZUFBZSxDQUFDO1FBQ2hDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDN0MsQ0FBQztJQUVNLDhCQUFLLEdBQVo7UUFDSSxJQUFJLFlBQVksR0FBRyxJQUFJLDJCQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25ELFlBQVksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUM5QixZQUFZLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRU8scUNBQVksR0FBcEIsVUFBcUIsS0FBb0IsRUFBRSxXQUFxQjtRQUM1RCxJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDOUIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDNUMsQ0FBQztJQUNMLENBQUM7SUFFTyxvQ0FBVyxHQUFuQixVQUFvQixJQUFpQixFQUFFLFdBQXFCO1FBQ3hELElBQUksZ0JBQWdCLEdBQUcsY0FBYyxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxDQUFDO1FBSXBFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBRWhCLElBQUkscUJBQXFCLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDMUUsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1lBQ3ZELElBQUksWUFBWSxHQUFHLHVCQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLFdBQVcsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO1lBRWhHLElBQUksWUFBWSxHQUFHLHVCQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM5RSxJQUFJLFlBQVksR0FBRyxJQUFJLDJCQUFZLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDbEQsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBRXRCLElBQUksUUFBUSxHQUFHLElBQUksbUJBQVEsQ0FBQyxZQUFZLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFDeEQsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ25CLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNyQixDQUFDO0lBRUwsQ0FBQztJQUVjLHNDQUF1QixHQUF0QyxVQUF1QyxJQUFpQjtRQUNwRCxJQUFJLGlCQUFpQixDQUFDO1FBQ3RCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztZQUN6QixpQkFBaUIsR0FBRyxxQkFBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbEQsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDcEMsaUJBQWlCLEdBQUcscUJBQVMsQ0FBQyxLQUFLLENBQUMsdUJBQVUsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDakYsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDckMsaUJBQWlCLEdBQUcscUJBQVMsQ0FBQyxLQUFLLENBQUMsdUJBQVUsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDbEYsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osTUFBTSxJQUFJLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1FBQ3RELENBQUM7UUFDRCxNQUFNLENBQUMsaUJBQWlCLENBQUM7SUFDN0IsQ0FBQztJQUVPLCtDQUFzQixHQUE5QixVQUErQixRQUFrQjtRQUM3QyxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxPQUFPLENBQUMsQ0FBQztRQUMxRixFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ1YsTUFBTSxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNoQyxDQUFDO1FBQ0QsSUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDcEMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUM7WUFDdkMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxzQkFBc0IsQ0FBQztRQUN2RSxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixRQUFRLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDdEMsQ0FBQztRQUNELE1BQU0sQ0FBQyxRQUFRLENBQUM7SUFDcEIsQ0FBQztJQUVPLHFDQUFZLEdBQXBCLFVBQXFCLGFBQXVCO1FBQ3hDLElBQUksS0FBSyxHQUFHLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkMsSUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDakMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLGtCQUFrQjtlQUNwQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsd0JBQXdCLENBQUMsQ0FBQyxDQUFDO1lBQzNDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNoQixDQUFDO1FBQ0QsTUFBTSxDQUFDLHFCQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFTCxxQkFBQztBQUFELENBcEZBLEFBb0ZDLElBQUE7QUFwRlksc0JBQWMsaUJBb0YxQixDQUFBIiwiZmlsZSI6InNyYy9jb3JlL1Byb2plY3RCdWlsZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAYXV0aG9yIFRpbXVyIEt1emhhZ2FsaXlldiA8dGltLmt1emhAZ21haWwuY29tPlxuICogQGNvcHlyaWdodCAyMDE3XG4gKiBAbGljZW5zZSBHUEwtMy4wXG4gKi9cblxuaW1wb3J0IHtQcm9qZWN0U2V0dGluZ3N9IGZyb20gJy4uL2NvbXBvbmVudHMvUHJvamVjdFNldHRpbmdzJztcbmltcG9ydCB7SUNvbmZpZ1BhZ2UsIElDb25maWd9IGZyb20gJy4uL2NvbXBvbmVudHMvQ29uZmlnJztcbmltcG9ydCB7VVJMSGVscGVyfSBmcm9tICcuLi9oZWxwZXJzL1VSTEhlbHBlcic7XG5pbXBvcnQge1BhdGhIZWxwZXJ9IGZyb20gJy4uL2hlbHBlcnMvUGF0aEhlbHBlcic7XG5pbXBvcnQge1NpdGVGaWxlfSBmcm9tICcuLi9maWxlcy9TaXRlRmlsZSc7XG5pbXBvcnQge1RlbXBsYXRlRmlsZX0gZnJvbSAnLi4vZmlsZXMvVGVtcGxhdGVGaWxlJztcbmltcG9ydCB7QXNzZXRNYW5hZ2VyfSBmcm9tICcuL0Fzc2V0TWFuYWdlcic7XG5cbmNvbnN0IERFRkFVTFRfUEFHRV9FWFRFTlNJT04gPSAnLmh0bWwnO1xuY29uc3QgREVGQVVMVF9JTkRFWF9QQUdFID0gJ2luZGV4JyArIERFRkFVTFRfUEFHRV9FWFRFTlNJT047XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0QnVpbGRlciB7XG5cbiAgICBwcml2YXRlIHNldHRpbmdzOiBQcm9qZWN0U2V0dGluZ3M7XG4gICAgcHJpdmF0ZSBjb25maWc6IElDb25maWc7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9qZWN0U2V0dGluZ3M6IFByb2plY3RTZXR0aW5ncykge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gcHJvamVjdFNldHRpbmdzO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHRoaXMuc2V0dGluZ3MuY29uZmlnLmdldCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBidWlsZCgpIHtcbiAgICAgICAgbGV0IGFzc2V0TWFuYWdlciA9IG5ldyBBc3NldE1hbmFnZXIodGhpcy5zZXR0aW5ncyk7XG4gICAgICAgIGFzc2V0TWFuYWdlci5zZXR1cExpc3RlbmVycygpO1xuICAgICAgICBhc3NldE1hbmFnZXIuY29weUFzc2V0cygpO1xuICAgICAgICB0aGlzLnByZXBhcmVQYWdlcyh0aGlzLmNvbmZpZy5wYWdlcywgW10pO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJlcGFyZVBhZ2VzKHBhZ2VzOiBJQ29uZmlnUGFnZVtdLCBjdXJyZW50UGF0aDogc3RyaW5nW10pIHtcbiAgICAgICAgbGV0IGxlbmd0aCA9IHBhZ2VzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5wcmVwYXJlUGFnZShwYWdlc1tpXSwgY3VycmVudFBhdGgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcmVwYXJlUGFnZShwYWdlOiBJQ29uZmlnUGFnZSwgY3VycmVudFBhdGg6IHN0cmluZ1tdKSB7XG4gICAgICAgIGxldCByZWxhdGl2ZVVyaUFycmF5ID0gUHJvamVjdEJ1aWxkZXIuZXh0cmFjdFJlbGF0aXZlVXJpQXJyYXkocGFnZSk7XG5cbiAgICAgICAgLy8gVE9ETzogUmVjdXJzaXZlbHkgcHJlcGFyZSBwYWdlcy9kaXJlY3Rvcmllc1xuXG4gICAgICAgIGlmIChwYWdlLnRlbXBsYXRlKSB7XG5cbiAgICAgICAgICAgIGxldCByZWxhdGl2ZVBhZ2VQYXRoQXJyYXkgPSB0aGlzLmRldGVybWluZVBhZ2VQYXRoQXJyYXkocmVsYXRpdmVVcmlBcnJheSk7XG4gICAgICAgICAgICBsZXQgcGFnZVVyaSA9IHRoaXMuZGV0ZXJtaW5lVXJpKHJlbGF0aXZlUGFnZVBhdGhBcnJheSk7XG4gICAgICAgICAgICBsZXQgZnVsbFBhZ2VQYXRoID0gUGF0aEhlbHBlci5qb2luKHRoaXMuc2V0dGluZ3MuYnVpbGRQYXRoLCBjdXJyZW50UGF0aCwgcmVsYXRpdmVQYWdlUGF0aEFycmF5KTtcblxuICAgICAgICAgICAgbGV0IHRlbXBsYXRlUGF0aCA9IFBhdGhIZWxwZXIuam9pbih0aGlzLnNldHRpbmdzLnRlbXBsYXRlUGF0aCwgcGFnZS50ZW1wbGF0ZSk7XG4gICAgICAgICAgICBsZXQgdGVtcGxhdGVGaWxlID0gbmV3IFRlbXBsYXRlRmlsZSh0ZW1wbGF0ZVBhdGgpO1xuICAgICAgICAgICAgdGVtcGxhdGVGaWxlLnJlbG9hZCgpO1xuXG4gICAgICAgICAgICBsZXQgc2l0ZUZpbGUgPSBuZXcgU2l0ZUZpbGUoZnVsbFBhZ2VQYXRoLCB0ZW1wbGF0ZUZpbGUpO1xuICAgICAgICAgICAgc2l0ZUZpbGUucmVidWlsZCgpO1xuICAgICAgICAgICAgc2l0ZUZpbGUud3JpdGUoKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgZXh0cmFjdFJlbGF0aXZlVXJpQXJyYXkocGFnZTogSUNvbmZpZ1BhZ2UpOiBzdHJpbmdbXSB7XG4gICAgICAgIGxldCByZWxhdGl2ZVBhdGhBcnJheTtcbiAgICAgICAgaWYgKHBhZ2UudXJpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlbGF0aXZlUGF0aEFycmF5ID0gVVJMSGVscGVyLnNwbGl0KHBhZ2UudXJpKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYWdlLmNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVsYXRpdmVQYXRoQXJyYXkgPSBVUkxIZWxwZXIuc3BsaXQoUGF0aEhlbHBlci5zdHJpcEV4dGVuc2lvbihwYWdlLmNvbnRlbnQpKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYWdlLnRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlbGF0aXZlUGF0aEFycmF5ID0gVVJMSGVscGVyLnNwbGl0KFBhdGhIZWxwZXIuc3RyaXBFeHRlbnNpb24ocGFnZS50ZW1wbGF0ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZGV0ZXJtaW5lIHBhZ2UgcGF0aCEnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVsYXRpdmVQYXRoQXJyYXk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZXRlcm1pbmVQYWdlUGF0aEFycmF5KHVyaUFycmF5OiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcbiAgICAgICAgbGV0IGlzSW5kZXggPSB1cmlBcnJheS5sZW5ndGggPT09IDAgfHwgKHVyaUFycmF5Lmxlbmd0aCA9PT0gMSAmJiB1cmlBcnJheVswXSA9PT0gJ2luZGV4Jyk7XG4gICAgICAgIGlmIChpc0luZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gW0RFRkFVTFRfSU5ERVhfUEFHRV07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxhc3RJbmRleCA9IHVyaUFycmF5Lmxlbmd0aCAtIDE7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5leHBsaWNpdF9odG1sX2V4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgIHVyaUFycmF5W2xhc3RJbmRleF0gPSB1cmlBcnJheVtsYXN0SW5kZXhdICsgREVGQVVMVF9QQUdFX0VYVEVOU0lPTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVyaUFycmF5LnB1c2goREVGQVVMVF9JTkRFWF9QQUdFKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJpQXJyYXk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZXRlcm1pbmVVcmkocGFnZVBhdGhBcnJheTogc3RyaW5nW10pOiBzdHJpbmcge1xuICAgICAgICBsZXQgYXJyYXkgPSBwYWdlUGF0aEFycmF5LnNsaWNlKDApO1xuICAgICAgICBsZXQgbGFzdEluZGV4ID0gYXJyYXkubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGFycmF5W2xhc3RJbmRleF0gPT09IERFRkFVTFRfSU5ERVhfUEFHRVxuICAgICAgICAgICAgJiYgIXRoaXMuY29uZmlnLmV4cGxpY2l0X2h0bWxfZXh0ZW5zaW9ucykge1xuICAgICAgICAgICAgYXJyYXkucG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFVSTEhlbHBlci5qb2luKGFycmF5KTtcbiAgICB9XG5cbn1cbiJdfQ==
