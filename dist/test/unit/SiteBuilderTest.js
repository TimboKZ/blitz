"use strict";
var chai_1 = require('chai');
var SiteBuilder_1 = require('../../src/SiteBuilder');
describe('SiteBuilder', function () {
    describe('#generateUrl()', function () {
        it('should work with absolute URLs => ENABLED, explicit .html => DISABLED, no site root, no site url', function () {
            var configMock = {
                absolute_urls: true,
                explicit_html_extensions: false,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], []), '/');
            chai_1.assert.equal(builder.generateUrl(['hello', 'index.html'], []), '/hello');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], []), '/hello/test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], []), '/hello/test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], []), '/test.html');
        });
        it('should work with absolute URLs => ENABLED, explicit .html => DISABLED, site root, no site url', function () {
            var configMock = {
                site_root: 'test/root',
                absolute_urls: true,
                explicit_html_extensions: false,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], []), '/test/root');
            chai_1.assert.equal(builder.generateUrl(['hello', 'index.html'], []), '/test/root/hello');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], []), '/test/root/hello/test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], []), '/test/root/hello/test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], []), '/test/root/test.html');
        });
        it('should work with absolute URLs => ENABLED, explicit .html => DISABLED, site root, site url', function () {
            var configMock = {
                site_url: 'http://test.com',
                site_root: 'test/root',
                absolute_urls: true,
                explicit_html_extensions: false,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], []), 'http://test.com/test/root');
            chai_1.assert.equal(builder.generateUrl(['hello', 'index.html'], []), 'http://test.com/test/root/hello');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], []), 'http://test.com/test/root/hello/test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], []), 'http://test.com/test/root/hello/test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], []), 'http://test.com/test/root/test.html');
        });
        it('should work when absolute URLs => ENABLED and explicit HTML extensions => ENABLED, with site root', function () {
            var configMock = {
                site_root: 'test/root',
                absolute_urls: true,
                explicit_html_extensions: true,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], []), '/test/root/index.html');
            chai_1.assert.equal(builder.generateUrl(['hello.html'], []), '/test/root/hello.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], []), '/test/root/hello/test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], []), '/test/root/hello/test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], []), '/test/root/test.html');
        });
        it('should work when absolute URLs => DISABLED and explicit HTML extensions => DISABLED', function () {
            var configMock = {
                absolute_urls: false,
                explicit_html_extensions: false,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], []), './');
            chai_1.assert.equal(builder.generateUrl(['hello', 'index.html'], []), './hello');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], []), './hello/test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], []), './hello/test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], []), './test.html');
        });
        it('should work with absolute URLs DISABLED, explicit HTML extensions ENABLED', function () {
            var configMock = {
                absolute_urls: false,
                explicit_html_extensions: true,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], []), './index.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'index.html'], []), './hello/index.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], []), './hello/test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], []), './hello/test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], []), './test.html');
        });
        it('should work when absolute URLs => DISABLED and explicit HTML extensions => DISABLED, non-root ', function () {
            var configMock = {
                absolute_urls: false,
                explicit_html_extensions: false,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], ['test', '123']), './../..');
            chai_1.assert.equal(builder.generateUrl(['hello', 'index.html'], ['test']), './../hello');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], ['hello', '123']), './../test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], ['hello']), './test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], ['123']), './../test.html');
        });
        it('should work when absolute URLs => DISABLED and explicit HTML extensions => ENABLED, non-root ', function () {
            var configMock = {
                absolute_urls: false,
                explicit_html_extensions: true,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], ['test', '123']), './../../index.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'index.html'], ['test']), './../hello/index.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], ['hello', '123']), './../test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], ['hello']), './test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], ['123']), './../test.html');
        });
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3Rlc3QvdW5pdC9TaXRlQnVpbGRlclRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQVFBLHFCQUFxQixNQUFNLENBQUMsQ0FBQTtBQUM1Qiw0QkFBMEIsdUJBQXVCLENBQUMsQ0FBQTtBQUdsRCxRQUFRLENBQUMsYUFBYSxFQUFFO0lBQ3BCLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRTtRQUN2QixFQUFFLENBQUMsa0dBQWtHLEVBQUU7WUFDbkcsSUFBSSxVQUFVLEdBQUc7Z0JBQ2IsYUFBYSxFQUFFLElBQUk7Z0JBQ25CLHdCQUF3QixFQUFFLEtBQUs7YUFDbEMsQ0FBQztZQUNGLElBQUksT0FBTyxHQUFHLElBQUkseUJBQVcsQ0FBQyxVQUEwQixFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNsRSxhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUMzRCxhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDekUsYUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLGtCQUFrQixDQUFDLENBQUM7WUFDbEYsYUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxXQUFXLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO1lBQy9GLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBQ3ZF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bnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBTaXRlQnVpbGRlciBjbGFzcyB0ZXN0c1xuICogQGF1dGhvciBUaW11ciBLdXpoYWdhbGl5ZXYgPHRpbS5rdXpoQGdtYWlsLmNvbT5cbiAqIEBjb3B5cmlnaHQgMjAxNlxuICogQGxpY2Vuc2UgR1BMLTMuMFxuICogQHNpbmNlIDAuMC4xXG4gKi9cblxuaW1wb3J0IHthc3NlcnR9IGZyb20gJ2NoYWknO1xuaW1wb3J0IHtTaXRlQnVpbGRlcn0gZnJvbSAnLi4vLi4vc3JjL1NpdGVCdWlsZGVyJztcbmltcG9ydCB7SUJsaXR6Q29uZmlnfSBmcm9tICcuLi8uLi9zcmMvQ29uZmlnUGFyc2VyJztcblxuZGVzY3JpYmUoJ1NpdGVCdWlsZGVyJywgKCkgPT4ge1xuICAgIGRlc2NyaWJlKCcjZ2VuZXJhdGVVcmwoKScsICgpID0+IHtcbiAgICAgICAgaXQoJ3Nob3VsZCB3b3JrIHdpdGggYWJzb2x1dGUgVVJMcyA9PiBFTkFCTEVELCBleHBsaWNpdCAuaHRtbCA9PiBESVNBQkxFRCwgbm8gc2l0ZSByb290LCBubyBzaXRlIHVybCcsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBjb25maWdNb2NrID0ge1xuICAgICAgICAgICAgICAgIGFic29sdXRlX3VybHM6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhwbGljaXRfaHRtbF9leHRlbnNpb25zOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBTaXRlQnVpbGRlcihjb25maWdNb2NrIGFzIElCbGl0ekNvbmZpZywgJycsICcnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaW5kZXguaHRtbCddLCBbXSksICcvJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ2luZGV4Lmh0bWwnXSwgW10pLCAnL2hlbGxvJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ3Rlc3QuaHRtbCddLCBbXSksICcvaGVsbG8vdGVzdC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ3Rlc3QnLCAndGVzdC5odG1sJ10sIFtdKSwgJy9oZWxsby90ZXN0L3Rlc3QuaHRtbCcpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWyd0ZXN0Lmh0bWwnXSwgW10pLCAnL3Rlc3QuaHRtbCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCB3b3JrIHdpdGggYWJzb2x1dGUgVVJMcyA9PiBFTkFCTEVELCBleHBsaWNpdCAuaHRtbCA9PiBESVNBQkxFRCwgc2l0ZSByb290LCBubyBzaXRlIHVybCcsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBjb25maWdNb2NrID0ge1xuICAgICAgICAgICAgICAgIHNpdGVfcm9vdDogJ3Rlc3Qvcm9vdCcsXG4gICAgICAgICAgICAgICAgYWJzb2x1dGVfdXJsczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleHBsaWNpdF9odG1sX2V4dGVuc2lvbnM6IGZhbHNlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBidWlsZGVyID0gbmV3IFNpdGVCdWlsZGVyKGNvbmZpZ01vY2sgYXMgSUJsaXR6Q29uZmlnLCAnJywgJycpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydpbmRleC5odG1sJ10sIFtdKSwgJy90ZXN0L3Jvb3QnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaGVsbG8nLCAnaW5kZXguaHRtbCddLCBbXSksICcvdGVzdC9yb290L2hlbGxvJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ3Rlc3QuaHRtbCddLCBbXSksICcvdGVzdC9yb290L2hlbGxvL3Rlc3QuaHRtbCcpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsbycsICd0ZXN0JywgJ3Rlc3QuaHRtbCddLCBbXSksICcvdGVzdC9yb290L2hlbGxvL3Rlc3QvdGVzdC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ3Rlc3QuaHRtbCddLCBbXSksICcvdGVzdC9yb290L3Rlc3QuaHRtbCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCB3b3JrIHdpdGggYWJzb2x1dGUgVVJMcyA9PiBFTkFCTEVELCBleHBsaWNpdCAuaHRtbCA9PiBESVNBQkxFRCwgc2l0ZSByb290LCBzaXRlIHVybCcsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBjb25maWdNb2NrID0ge1xuICAgICAgICAgICAgICAgIHNpdGVfdXJsOiAnaHR0cDovL3Rlc3QuY29tJyxcbiAgICAgICAgICAgICAgICBzaXRlX3Jvb3Q6ICd0ZXN0L3Jvb3QnLFxuICAgICAgICAgICAgICAgIGFic29sdXRlX3VybHM6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhwbGljaXRfaHRtbF9leHRlbnNpb25zOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBTaXRlQnVpbGRlcihjb25maWdNb2NrIGFzIElCbGl0ekNvbmZpZywgJycsICcnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaW5kZXguaHRtbCddLCBbXSksICdodHRwOi8vdGVzdC5jb20vdGVzdC9yb290Jyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ2luZGV4Lmh0bWwnXSwgW10pLCAnaHR0cDovL3Rlc3QuY29tL3Rlc3Qvcm9vdC9oZWxsbycpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsbycsICd0ZXN0Lmh0bWwnXSwgW10pLCAnaHR0cDovL3Rlc3QuY29tL3Rlc3Qvcm9vdC9oZWxsby90ZXN0Lmh0bWwnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFxuICAgICAgICAgICAgICAgIFsnaGVsbG8nLCAndGVzdCcsICd0ZXN0Lmh0bWwnXSwgW10pLFxuICAgICAgICAgICAgICAgICdodHRwOi8vdGVzdC5jb20vdGVzdC9yb290L2hlbGxvL3Rlc3QvdGVzdC5odG1sJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsndGVzdC5odG1sJ10sIFtdKSwgJ2h0dHA6Ly90ZXN0LmNvbS90ZXN0L3Jvb3QvdGVzdC5odG1sJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnc2hvdWxkIHdvcmsgd2hlbiBhYnNvbHV0ZSBVUkxzID0+IEVOQUJMRUQgYW5kIGV4cGxpY2l0IEhUTUwgZXh0ZW5zaW9ucyA9PiBFTkFCTEVELCB3aXRoIHNpdGUgcm9vdCcsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBjb25maWdNb2NrID0ge1xuICAgICAgICAgICAgICAgIHNpdGVfcm9vdDogJ3Rlc3Qvcm9vdCcsXG4gICAgICAgICAgICAgICAgYWJzb2x1dGVfdXJsczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleHBsaWNpdF9odG1sX2V4dGVuc2lvbnM6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgU2l0ZUJ1aWxkZXIoY29uZmlnTW9jayBhcyBJQmxpdHpDb25maWcsICcnLCAnJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2luZGV4Lmh0bWwnXSwgW10pLCAnL3Rlc3Qvcm9vdC9pbmRleC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvLmh0bWwnXSwgW10pLCAnL3Rlc3Qvcm9vdC9oZWxsby5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ3Rlc3QuaHRtbCddLCBbXSksICcvdGVzdC9yb290L2hlbGxvL3Rlc3QuaHRtbCcpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsbycsICd0ZXN0JywgJ3Rlc3QuaHRtbCddLCBbXSksICcvdGVzdC9yb290L2hlbGxvL3Rlc3QvdGVzdC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ3Rlc3QuaHRtbCddLCBbXSksICcvdGVzdC9yb290L3Rlc3QuaHRtbCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCB3b3JrIHdoZW4gYWJzb2x1dGUgVVJMcyA9PiBESVNBQkxFRCBhbmQgZXhwbGljaXQgSFRNTCBleHRlbnNpb25zID0+IERJU0FCTEVEJywgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNvbmZpZ01vY2sgPSB7XG4gICAgICAgICAgICAgICAgYWJzb2x1dGVfdXJsczogZmFsc2UsXG4gICAgICAgICAgICAgICAgZXhwbGljaXRfaHRtbF9leHRlbnNpb25zOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBTaXRlQnVpbGRlcihjb25maWdNb2NrIGFzIElCbGl0ekNvbmZpZywgJycsICcnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaW5kZXguaHRtbCddLCBbXSksICcuLycpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsbycsICdpbmRleC5odG1sJ10sIFtdKSwgJy4vaGVsbG8nKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaGVsbG8nLCAndGVzdC5odG1sJ10sIFtdKSwgJy4vaGVsbG8vdGVzdC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ3Rlc3QnLCAndGVzdC5odG1sJ10sIFtdKSwgJy4vaGVsbG8vdGVzdC90ZXN0Lmh0bWwnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsndGVzdC5odG1sJ10sIFtdKSwgJy4vdGVzdC5odG1sJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnc2hvdWxkIHdvcmsgd2l0aCBhYnNvbHV0ZSBVUkxzIERJU0FCTEVELCBleHBsaWNpdCBIVE1MIGV4dGVuc2lvbnMgRU5BQkxFRCcsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBjb25maWdNb2NrID0ge1xuICAgICAgICAgICAgICAgIGFic29sdXRlX3VybHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGV4cGxpY2l0X2h0bWxfZXh0ZW5zaW9uczogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBTaXRlQnVpbGRlcihjb25maWdNb2NrIGFzIElCbGl0ekNvbmZpZywgJycsICcnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaW5kZXguaHRtbCddLCBbXSksICcuL2luZGV4Lmh0bWwnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaGVsbG8nLCAnaW5kZXguaHRtbCddLCBbXSksICcuL2hlbGxvL2luZGV4Lmh0bWwnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaGVsbG8nLCAndGVzdC5odG1sJ10sIFtdKSwgJy4vaGVsbG8vdGVzdC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ3Rlc3QnLCAndGVzdC5odG1sJ10sIFtdKSwgJy4vaGVsbG8vdGVzdC90ZXN0Lmh0bWwnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsndGVzdC5odG1sJ10sIFtdKSwgJy4vdGVzdC5odG1sJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnc2hvdWxkIHdvcmsgd2hlbiBhYnNvbHV0ZSBVUkxzID0+IERJU0FCTEVEIGFuZCBleHBsaWNpdCBIVE1MIGV4dGVuc2lvbnMgPT4gRElTQUJMRUQsIG5vbi1yb290ICcsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBjb25maWdNb2NrID0ge1xuICAgICAgICAgICAgICAgIGFic29sdXRlX3VybHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGV4cGxpY2l0X2h0bWxfZXh0ZW5zaW9uczogZmFsc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgU2l0ZUJ1aWxkZXIoY29uZmlnTW9jayBhcyBJQmxpdHpDb25maWcsICcnLCAnJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2luZGV4Lmh0bWwnXSwgWyd0ZXN0JywgJzEyMyddKSwgJy4vLi4vLi4nKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaGVsbG8nLCAnaW5kZXguaHRtbCddLCBbJ3Rlc3QnXSksICcuLy4uL2hlbGxvJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ3Rlc3QuaHRtbCddLCBbJ2hlbGxvJywgJzEyMyddKSwgJy4vLi4vdGVzdC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ3Rlc3QnLCAndGVzdC5odG1sJ10sIFsnaGVsbG8nXSksICcuL3Rlc3QvdGVzdC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ3Rlc3QuaHRtbCddLCBbJzEyMyddKSwgJy4vLi4vdGVzdC5odG1sJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnc2hvdWxkIHdvcmsgd2hlbiBhYnNvbHV0ZSBVUkxzID0+IERJU0FCTEVEIGFuZCBleHBsaWNpdCBIVE1MIGV4dGVuc2lvbnMgPT4gRU5BQkxFRCwgbm9uLXJvb3QgJywgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNvbmZpZ01vY2sgPSB7XG4gICAgICAgICAgICAgICAgYWJzb2x1dGVfdXJsczogZmFsc2UsXG4gICAgICAgICAgICAgICAgZXhwbGljaXRfaHRtbF9leHRlbnNpb25zOiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBidWlsZGVyID0gbmV3IFNpdGVCdWlsZGVyKGNvbmZpZ01vY2sgYXMgSUJsaXR6Q29uZmlnLCAnJywgJycpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydpbmRleC5odG1sJ10sIFsndGVzdCcsICcxMjMnXSksICcuLy4uLy4uL2luZGV4Lmh0bWwnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaGVsbG8nLCAnaW5kZXguaHRtbCddLCBbJ3Rlc3QnXSksICcuLy4uL2hlbGxvL2luZGV4Lmh0bWwnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaGVsbG8nLCAndGVzdC5odG1sJ10sIFsnaGVsbG8nLCAnMTIzJ10pLCAnLi8uLi90ZXN0Lmh0bWwnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaGVsbG8nLCAndGVzdCcsICd0ZXN0Lmh0bWwnXSwgWydoZWxsbyddKSwgJy4vdGVzdC90ZXN0Lmh0bWwnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsndGVzdC5odG1sJ10sIFsnMTIzJ10pLCAnLi8uLi90ZXN0Lmh0bWwnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcbiJdfQ==
