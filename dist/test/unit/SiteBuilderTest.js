"use strict";
var chai_1 = require("chai");
var SiteBuilder_1 = require("../../src/SiteBuilder");
describe('SiteBuilder', function () {
    describe('#generateUrl()', function () {
        it('should work with absolute URLs => ENABLED, explicit .html => DISABLED, no site root, no site url', function () {
            var configMock = {
                absolute_urls: true,
                explicit_html_extensions: false,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], []), '/');
            chai_1.assert.equal(builder.generateUrl(['hello', 'index.html'], []), '/hello');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], []), '/hello/test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], []), '/hello/test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], []), '/test.html');
        });
        it('should work with absolute URLs => ENABLED, explicit .html => DISABLED, site root, no site url', function () {
            var configMock = {
                site_root: 'test/root',
                absolute_urls: true,
                explicit_html_extensions: false,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], []), '/test/root');
            chai_1.assert.equal(builder.generateUrl(['hello', 'index.html'], []), '/test/root/hello');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], []), '/test/root/hello/test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], []), '/test/root/hello/test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], []), '/test/root/test.html');
        });
        it('should work with absolute URLs => ENABLED, explicit .html => DISABLED, site root, site url', function () {
            var configMock = {
                site_url: 'http://test.com',
                site_root: 'test/root',
                absolute_urls: true,
                explicit_html_extensions: false,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], []), 'http://test.com/test/root');
            chai_1.assert.equal(builder.generateUrl(['hello', 'index.html'], []), 'http://test.com/test/root/hello');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], []), 'http://test.com/test/root/hello/test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], []), 'http://test.com/test/root/hello/test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], []), 'http://test.com/test/root/test.html');
        });
        it('should work when absolute URLs => ENABLED and explicit HTML extensions => ENABLED, with site root', function () {
            var configMock = {
                site_root: 'test/root',
                absolute_urls: true,
                explicit_html_extensions: true,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], []), '/test/root/index.html');
            chai_1.assert.equal(builder.generateUrl(['hello.html'], []), '/test/root/hello.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], []), '/test/root/hello/test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], []), '/test/root/hello/test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], []), '/test/root/test.html');
        });
        it('should work when absolute URLs => DISABLED and explicit HTML extensions => DISABLED', function () {
            var configMock = {
                absolute_urls: false,
                explicit_html_extensions: false,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], []), './');
            chai_1.assert.equal(builder.generateUrl(['hello', 'index.html'], []), './hello');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], []), './hello/test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], []), './hello/test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], []), './test.html');
        });
        it('should work with absolute URLs DISABLED, explicit HTML extensions ENABLED', function () {
            var configMock = {
                absolute_urls: false,
                explicit_html_extensions: true,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], []), './index.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'index.html'], []), './hello/index.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], []), './hello/test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], []), './hello/test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], []), './test.html');
        });
        it('should work when absolute URLs => DISABLED and explicit HTML extensions => DISABLED, non-root ', function () {
            var configMock = {
                absolute_urls: false,
                explicit_html_extensions: false,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], ['test', '123']), './../..');
            chai_1.assert.equal(builder.generateUrl(['hello', 'index.html'], ['test']), './../hello');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], ['hello', '123']), './../test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], ['hello']), './test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], ['123']), './../test.html');
        });
        it('should work when absolute URLs => DISABLED and explicit HTML extensions => ENABLED, non-root ', function () {
            var configMock = {
                absolute_urls: false,
                explicit_html_extensions: true,
            };
            var builder = new SiteBuilder_1.SiteBuilder(configMock, '', '');
            chai_1.assert.equal(builder.generateUrl(['index.html'], ['test', '123']), './../../index.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'index.html'], ['test']), './../hello/index.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test.html'], ['hello', '123']), './../test.html');
            chai_1.assert.equal(builder.generateUrl(['hello', 'test', 'test.html'], ['hello']), './test/test.html');
            chai_1.assert.equal(builder.generateUrl(['test.html'], ['123']), './../test.html');
        });
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3Rlc3QvdW5pdC9TaXRlQnVpbGRlclRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQVFBLDZCQUE0QjtBQUM1QixxREFBa0Q7QUFHbEQsUUFBUSxDQUFDLGFBQWEsRUFBRTtJQUNwQixRQUFRLENBQUMsZ0JBQWdCLEVBQUU7UUFDdkIsRUFBRSxDQUFDLGtHQUFrRyxFQUFFO1lBQ25HLElBQUksVUFBVSxHQUFHO2dCQUNiLGFBQWEsRUFBRSxJQUFJO2dCQUNuQix3QkFBd0IsRUFBRSxLQUFLO2FBQ2xDLENBQUM7WUFDRixJQUFJLE9BQU8sR0FBRyxJQUFJLHlCQUFXLENBQUMsVUFBMEIsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDbEUsYUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDM0QsYUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3pFLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1lBQ2xGLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztZQUMvRixhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUN2RSxDQUFDLENBQUMsQ0FBQztRQUNILEVBQUUsQ0FBQywrRkFBK0YsRUFBRTtZQUNoRyxJQUFJLFVBQVUsR0FBRztnQkFDYixTQUFTLEVBQUUsV0FBVztnQkFDdEIsYUFBYSxFQUFFLElBQUk7Z0JBQ25CLHdCQUF3QixFQUFFLEtBQUs7YUFDbEMsQ0FBQztZQUNGLElBQUksT0FBTyxHQUFHLElBQUkseUJBQVcsQ0FBQyxVQUEwQixFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNsRSxhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQztZQUNwRSxhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztZQUNuRixhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxPQUFPLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsNEJBQTRCLENBQUMsQ0FBQztZQUM1RixhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLFdBQVcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLGlDQUFpQyxDQUFDLENBQUM7WUFDekcsYUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsV0FBVyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsc0JBQXNCLENBQUMsQ0FBQztRQUNqRixDQUFDLENBQUMsQ0FBQztRQUNILEVBQUUsQ0FBQyw0RkFBNEYsRUFBRTtZQUM3RixJQUFJLFVBQVUsR0FBRztnQkFDYixRQUFRLEVBQUUsaUJBQWlCO2dCQUMzQixTQUFTLEVBQUUsV0FBVztnQkFDdEIsYUFBYSxFQUFFLElBQUk7Z0JBQ25CLHdCQUF3QixFQUFFLEtBQUs7YUFDbEMsQ0FBQztZQUNGLElBQUksT0FBTyxHQUFHLElBQUkseUJBQVcsQ0FBQyxVQUEwQixFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNsRSxhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSwyQkFBMkIsQ0FBQyxDQUFDO1lBQ25GLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxpQ0FBaUMsQ0FBQyxDQUFDO1lBQ2xHLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSwyQ0FBMkMsQ0FBQyxDQUFDO1lBQzNHLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FDNUIsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLFdBQVcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUNuQyxnREFBZ0QsQ0FDbkQsQ0FBQztZQUNGLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLHFDQUFxQyxDQUFDLENBQUM7UUFDaEcsQ0FBQyxDQUFDLENBQUM7UUFDSCxFQUFFLENBQUMsbUdBQW1HLEVBQUU7WUFDcEcsSUFBSSxVQUFVLEdBQUc7Z0JBQ2IsU0FBUyxFQUFFLFdBQVc7Z0JBQ3RCLGFBQWEsRUFBRSxJQUFJO2dCQUNuQix3QkFBd0IsRUFBRSxJQUFJO2FBQ2pDLENBQUM7WUFDRixJQUFJLE9BQU8sR0FBRyxJQUFJLHlCQUFXLENBQUMsVUFBMEIsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDbEUsYUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztZQUMvRSxhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO1lBQy9FLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSw0QkFBNEIsQ0FBQyxDQUFDO1lBQzVGLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsaUNBQWlDLENBQUMsQ0FBQztZQUN6RyxhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO1FBQ2pGLENBQUMsQ0FBQyxDQUFDO1FBQ0gsRUFBRSxDQUFDLHFGQUFxRixFQUFFO1lBQ3RGLElBQUksVUFBVSxHQUFHO2dCQUNiLGFBQWEsRUFBRSxLQUFLO2dCQUNwQix3QkFBd0IsRUFBRSxLQUFLO2FBQ2xDLENBQUM7WUFDRixJQUFJLE9BQU8sR0FBRyxJQUFJLHlCQUFXLENBQUMsVUFBMEIsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDbEUsYUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDNUQsYUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQzFFLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1lBQ25GLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsd0JBQXdCLENBQUMsQ0FBQztZQUNoRyxhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxhQUFhLENBQUMsQ0FBQztRQUN4RSxDQUFDLENBQUMsQ0FBQztRQUNILEVBQUUsQ0FBQywyRUFBMkUsRUFBRTtZQUM1RSxJQUFJLFVBQVUsR0FBRztnQkFDYixhQUFhLEVBQUUsS0FBSztnQkFDcEIsd0JBQXdCLEVBQUUsSUFBSTthQUNqQyxDQUFDO1lBQ0YsSUFBSSxPQUFPLEdBQUcsSUFBSSx5QkFBVyxDQUFDLFVBQTBCLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ2xFLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDO1lBQ3RFLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO1lBQ3JGLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1lBQ25GLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsd0JBQXdCLENBQUMsQ0FBQztZQUNoRyxhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxhQUFhLENBQUMsQ0FBQztRQUN4RSxDQUFDLENBQUMsQ0FBQztRQUNILEVBQUUsQ0FBQyxnR0FBZ0csRUFBRTtZQUNqRyxJQUFJLFVBQVUsR0FBRztnQkFDYixhQUFhLEVBQUUsS0FBSztnQkFDcEIsd0JBQXdCLEVBQUUsS0FBSzthQUNsQyxDQUFDO1lBQ0YsSUFBSSxPQUFPLEdBQUcsSUFBSSx5QkFBVyxDQUFDLFVBQTBCLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ2xFLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDOUUsYUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQztZQUNuRixhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxPQUFPLEVBQUUsV0FBVyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzlGLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLGtCQUFrQixDQUFDLENBQUM7WUFDakcsYUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLGdCQUFnQixDQUFDLENBQUM7UUFDaEYsQ0FBQyxDQUFDLENBQUM7UUFDSCxFQUFFLENBQUMsK0ZBQStGLEVBQUU7WUFDaEcsSUFBSSxVQUFVLEdBQUc7Z0JBQ2IsYUFBYSxFQUFFLEtBQUs7Z0JBQ3BCLHdCQUF3QixFQUFFLElBQUk7YUFDakMsQ0FBQztZQUNGLElBQUksT0FBTyxHQUFHLElBQUkseUJBQVcsQ0FBQyxVQUEwQixFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNsRSxhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLG9CQUFvQixDQUFDLENBQUM7WUFDekYsYUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO1lBQzlGLGFBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLGdCQUFnQixDQUFDLENBQUM7WUFDOUYsYUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxXQUFXLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztZQUNqRyxhQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztRQUNoRixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoidGVzdC91bml0L1NpdGVCdWlsZGVyVGVzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGUgU2l0ZUJ1aWxkZXIgY2xhc3MgdGVzdHNcbiAqIEBhdXRob3IgVGltdXIgS3V6aGFnYWxpeWV2IDx0aW0ua3V6aEBnbWFpbC5jb20+XG4gKiBAY29weXJpZ2h0IDIwMTZcbiAqIEBsaWNlbnNlIEdQTC0zLjBcbiAqIEBzaW5jZSAwLjAuMVxuICovXG5cbmltcG9ydCB7YXNzZXJ0fSBmcm9tICdjaGFpJztcbmltcG9ydCB7U2l0ZUJ1aWxkZXJ9IGZyb20gJy4uLy4uL3NyYy9TaXRlQnVpbGRlcic7XG5pbXBvcnQge0lCbGl0ekNvbmZpZ30gZnJvbSAnLi4vLi4vc3JjL0NvbmZpZ1BhcnNlcic7XG5cbmRlc2NyaWJlKCdTaXRlQnVpbGRlcicsICgpID0+IHtcbiAgICBkZXNjcmliZSgnI2dlbmVyYXRlVXJsKCknLCAoKSA9PiB7XG4gICAgICAgIGl0KCdzaG91bGQgd29yayB3aXRoIGFic29sdXRlIFVSTHMgPT4gRU5BQkxFRCwgZXhwbGljaXQgLmh0bWwgPT4gRElTQUJMRUQsIG5vIHNpdGUgcm9vdCwgbm8gc2l0ZSB1cmwnLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgY29uZmlnTW9jayA9IHtcbiAgICAgICAgICAgICAgICBhYnNvbHV0ZV91cmxzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4cGxpY2l0X2h0bWxfZXh0ZW5zaW9uczogZmFsc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgU2l0ZUJ1aWxkZXIoY29uZmlnTW9jayBhcyBJQmxpdHpDb25maWcsICcnLCAnJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2luZGV4Lmh0bWwnXSwgW10pLCAnLycpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsbycsICdpbmRleC5odG1sJ10sIFtdKSwgJy9oZWxsbycpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsbycsICd0ZXN0Lmh0bWwnXSwgW10pLCAnL2hlbGxvL3Rlc3QuaHRtbCcpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsbycsICd0ZXN0JywgJ3Rlc3QuaHRtbCddLCBbXSksICcvaGVsbG8vdGVzdC90ZXN0Lmh0bWwnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsndGVzdC5odG1sJ10sIFtdKSwgJy90ZXN0Lmh0bWwnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KCdzaG91bGQgd29yayB3aXRoIGFic29sdXRlIFVSTHMgPT4gRU5BQkxFRCwgZXhwbGljaXQgLmh0bWwgPT4gRElTQUJMRUQsIHNpdGUgcm9vdCwgbm8gc2l0ZSB1cmwnLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgY29uZmlnTW9jayA9IHtcbiAgICAgICAgICAgICAgICBzaXRlX3Jvb3Q6ICd0ZXN0L3Jvb3QnLFxuICAgICAgICAgICAgICAgIGFic29sdXRlX3VybHM6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhwbGljaXRfaHRtbF9leHRlbnNpb25zOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBTaXRlQnVpbGRlcihjb25maWdNb2NrIGFzIElCbGl0ekNvbmZpZywgJycsICcnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaW5kZXguaHRtbCddLCBbXSksICcvdGVzdC9yb290Jyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ2luZGV4Lmh0bWwnXSwgW10pLCAnL3Rlc3Qvcm9vdC9oZWxsbycpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsbycsICd0ZXN0Lmh0bWwnXSwgW10pLCAnL3Rlc3Qvcm9vdC9oZWxsby90ZXN0Lmh0bWwnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaGVsbG8nLCAndGVzdCcsICd0ZXN0Lmh0bWwnXSwgW10pLCAnL3Rlc3Qvcm9vdC9oZWxsby90ZXN0L3Rlc3QuaHRtbCcpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWyd0ZXN0Lmh0bWwnXSwgW10pLCAnL3Rlc3Qvcm9vdC90ZXN0Lmh0bWwnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KCdzaG91bGQgd29yayB3aXRoIGFic29sdXRlIFVSTHMgPT4gRU5BQkxFRCwgZXhwbGljaXQgLmh0bWwgPT4gRElTQUJMRUQsIHNpdGUgcm9vdCwgc2l0ZSB1cmwnLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgY29uZmlnTW9jayA9IHtcbiAgICAgICAgICAgICAgICBzaXRlX3VybDogJ2h0dHA6Ly90ZXN0LmNvbScsXG4gICAgICAgICAgICAgICAgc2l0ZV9yb290OiAndGVzdC9yb290JyxcbiAgICAgICAgICAgICAgICBhYnNvbHV0ZV91cmxzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4cGxpY2l0X2h0bWxfZXh0ZW5zaW9uczogZmFsc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgU2l0ZUJ1aWxkZXIoY29uZmlnTW9jayBhcyBJQmxpdHpDb25maWcsICcnLCAnJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2luZGV4Lmh0bWwnXSwgW10pLCAnaHR0cDovL3Rlc3QuY29tL3Rlc3Qvcm9vdCcpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsbycsICdpbmRleC5odG1sJ10sIFtdKSwgJ2h0dHA6Ly90ZXN0LmNvbS90ZXN0L3Jvb3QvaGVsbG8nKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaGVsbG8nLCAndGVzdC5odG1sJ10sIFtdKSwgJ2h0dHA6Ly90ZXN0LmNvbS90ZXN0L3Jvb3QvaGVsbG8vdGVzdC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChcbiAgICAgICAgICAgICAgICBbJ2hlbGxvJywgJ3Rlc3QnLCAndGVzdC5odG1sJ10sIFtdKSxcbiAgICAgICAgICAgICAgICAnaHR0cDovL3Rlc3QuY29tL3Rlc3Qvcm9vdC9oZWxsby90ZXN0L3Rlc3QuaHRtbCdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ3Rlc3QuaHRtbCddLCBbXSksICdodHRwOi8vdGVzdC5jb20vdGVzdC9yb290L3Rlc3QuaHRtbCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCB3b3JrIHdoZW4gYWJzb2x1dGUgVVJMcyA9PiBFTkFCTEVEIGFuZCBleHBsaWNpdCBIVE1MIGV4dGVuc2lvbnMgPT4gRU5BQkxFRCwgd2l0aCBzaXRlIHJvb3QnLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgY29uZmlnTW9jayA9IHtcbiAgICAgICAgICAgICAgICBzaXRlX3Jvb3Q6ICd0ZXN0L3Jvb3QnLFxuICAgICAgICAgICAgICAgIGFic29sdXRlX3VybHM6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhwbGljaXRfaHRtbF9leHRlbnNpb25zOiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBidWlsZGVyID0gbmV3IFNpdGVCdWlsZGVyKGNvbmZpZ01vY2sgYXMgSUJsaXR6Q29uZmlnLCAnJywgJycpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydpbmRleC5odG1sJ10sIFtdKSwgJy90ZXN0L3Jvb3QvaW5kZXguaHRtbCcpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsby5odG1sJ10sIFtdKSwgJy90ZXN0L3Jvb3QvaGVsbG8uaHRtbCcpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsbycsICd0ZXN0Lmh0bWwnXSwgW10pLCAnL3Rlc3Qvcm9vdC9oZWxsby90ZXN0Lmh0bWwnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaGVsbG8nLCAndGVzdCcsICd0ZXN0Lmh0bWwnXSwgW10pLCAnL3Rlc3Qvcm9vdC9oZWxsby90ZXN0L3Rlc3QuaHRtbCcpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWyd0ZXN0Lmh0bWwnXSwgW10pLCAnL3Rlc3Qvcm9vdC90ZXN0Lmh0bWwnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KCdzaG91bGQgd29yayB3aGVuIGFic29sdXRlIFVSTHMgPT4gRElTQUJMRUQgYW5kIGV4cGxpY2l0IEhUTUwgZXh0ZW5zaW9ucyA9PiBESVNBQkxFRCcsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBjb25maWdNb2NrID0ge1xuICAgICAgICAgICAgICAgIGFic29sdXRlX3VybHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGV4cGxpY2l0X2h0bWxfZXh0ZW5zaW9uczogZmFsc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgU2l0ZUJ1aWxkZXIoY29uZmlnTW9jayBhcyBJQmxpdHpDb25maWcsICcnLCAnJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2luZGV4Lmh0bWwnXSwgW10pLCAnLi8nKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaGVsbG8nLCAnaW5kZXguaHRtbCddLCBbXSksICcuL2hlbGxvJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ3Rlc3QuaHRtbCddLCBbXSksICcuL2hlbGxvL3Rlc3QuaHRtbCcpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsbycsICd0ZXN0JywgJ3Rlc3QuaHRtbCddLCBbXSksICcuL2hlbGxvL3Rlc3QvdGVzdC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ3Rlc3QuaHRtbCddLCBbXSksICcuL3Rlc3QuaHRtbCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCB3b3JrIHdpdGggYWJzb2x1dGUgVVJMcyBESVNBQkxFRCwgZXhwbGljaXQgSFRNTCBleHRlbnNpb25zIEVOQUJMRUQnLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgY29uZmlnTW9jayA9IHtcbiAgICAgICAgICAgICAgICBhYnNvbHV0ZV91cmxzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBleHBsaWNpdF9odG1sX2V4dGVuc2lvbnM6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgU2l0ZUJ1aWxkZXIoY29uZmlnTW9jayBhcyBJQmxpdHpDb25maWcsICcnLCAnJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2luZGV4Lmh0bWwnXSwgW10pLCAnLi9pbmRleC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ2luZGV4Lmh0bWwnXSwgW10pLCAnLi9oZWxsby9pbmRleC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ3Rlc3QuaHRtbCddLCBbXSksICcuL2hlbGxvL3Rlc3QuaHRtbCcpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsbycsICd0ZXN0JywgJ3Rlc3QuaHRtbCddLCBbXSksICcuL2hlbGxvL3Rlc3QvdGVzdC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ3Rlc3QuaHRtbCddLCBbXSksICcuL3Rlc3QuaHRtbCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCB3b3JrIHdoZW4gYWJzb2x1dGUgVVJMcyA9PiBESVNBQkxFRCBhbmQgZXhwbGljaXQgSFRNTCBleHRlbnNpb25zID0+IERJU0FCTEVELCBub24tcm9vdCAnLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgY29uZmlnTW9jayA9IHtcbiAgICAgICAgICAgICAgICBhYnNvbHV0ZV91cmxzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBleHBsaWNpdF9odG1sX2V4dGVuc2lvbnM6IGZhbHNlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBidWlsZGVyID0gbmV3IFNpdGVCdWlsZGVyKGNvbmZpZ01vY2sgYXMgSUJsaXR6Q29uZmlnLCAnJywgJycpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydpbmRleC5odG1sJ10sIFsndGVzdCcsICcxMjMnXSksICcuLy4uLy4uJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ2luZGV4Lmh0bWwnXSwgWyd0ZXN0J10pLCAnLi8uLi9oZWxsbycpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsbycsICd0ZXN0Lmh0bWwnXSwgWydoZWxsbycsICcxMjMnXSksICcuLy4uL3Rlc3QuaHRtbCcpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWydoZWxsbycsICd0ZXN0JywgJ3Rlc3QuaHRtbCddLCBbJ2hlbGxvJ10pLCAnLi90ZXN0L3Rlc3QuaHRtbCcpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGJ1aWxkZXIuZ2VuZXJhdGVVcmwoWyd0ZXN0Lmh0bWwnXSwgWycxMjMnXSksICcuLy4uL3Rlc3QuaHRtbCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCB3b3JrIHdoZW4gYWJzb2x1dGUgVVJMcyA9PiBESVNBQkxFRCBhbmQgZXhwbGljaXQgSFRNTCBleHRlbnNpb25zID0+IEVOQUJMRUQsIG5vbi1yb290ICcsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBjb25maWdNb2NrID0ge1xuICAgICAgICAgICAgICAgIGFic29sdXRlX3VybHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGV4cGxpY2l0X2h0bWxfZXh0ZW5zaW9uczogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBTaXRlQnVpbGRlcihjb25maWdNb2NrIGFzIElCbGl0ekNvbmZpZywgJycsICcnKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChidWlsZGVyLmdlbmVyYXRlVXJsKFsnaW5kZXguaHRtbCddLCBbJ3Rlc3QnLCAnMTIzJ10pLCAnLi8uLi8uLi9pbmRleC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ2luZGV4Lmh0bWwnXSwgWyd0ZXN0J10pLCAnLi8uLi9oZWxsby9pbmRleC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ3Rlc3QuaHRtbCddLCBbJ2hlbGxvJywgJzEyMyddKSwgJy4vLi4vdGVzdC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ2hlbGxvJywgJ3Rlc3QnLCAndGVzdC5odG1sJ10sIFsnaGVsbG8nXSksICcuL3Rlc3QvdGVzdC5odG1sJyk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYnVpbGRlci5nZW5lcmF0ZVVybChbJ3Rlc3QuaHRtbCddLCBbJzEyMyddKSwgJy4vLi4vdGVzdC5odG1sJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iXX0=
